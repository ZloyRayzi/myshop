<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>MyShop</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f0f4f8;
      margin: 0; padding: 0;
    }
    header {
      background: #007bff;
      padding: 10px 0;
      text-align: center;
      color: white;
      font-size: 24px;
      font-weight: bold;
    }
    nav {
      background: #0056b3;
      display: flex;
      justify-content: center;
      gap: 20px;
      padding: 15px 0;
    }
    nav button {
      background: #007bff;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      color: white;
      cursor: pointer;
      font-size: 16px;
      transition: background 0.3s ease;
      min-width: 120px;
    }
    nav button:hover {
      background: #0056b3;
    }
    main {
      max-width: 600px;
      margin: 30px auto;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      min-height: 300px;
      text-align: center;
    }
    .hidden {
      display: none;
    }
    input {
      padding: 10px;
      margin: 10px 0;
      width: 80%;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    .action-btn {
      background: #28a745;
      border: none;
      color: white;
      padding: 12px 25px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
      transition: background 0.3s ease;
    }
    .action-btn:hover {
      background: #218838;
    }
    .back-btn {
      margin-top: 20px;
      background: #dc3545;
    }
    .back-btn:hover {
      background: #c82333;
    }
    .profile-info {
      font-size: 18px;
      margin-top: 15px;
    }
  </style>
</head>
<body>

<header>MyShop</header>

<nav>
  <button id="homeBtn">Главная</button>
  <button id="languageBtn">Выбор языка</button>
  <button id="registerBtn">Регистрация</button>
</nav>

<main>

  <!-- Главная страница -->
  <section id="homeSection">
    <h2 id="welcomeText">Добро пожаловать в MyShop!</h2>
    <p>Здесь вы можете выбрать язык, зарегистрироваться и пользоваться магазином.</p>
  </section>

  <!-- Выбор языка -->
  <section id="languageSection" class="hidden">
    <h2>Выберите язык / Оберіть мову / Choose language</h2>
    <button onclick="setLanguage('ru')">Русский</button>
    <button onclick="setLanguage('ua')">Українська</button>
    <button onclick="setLanguage('en')">English</button>
    <br/>
    <button class="back-btn" onclick="showSection('homeSection')">Вернуться назад</button>
  </section>

  <!-- Регистрация -->
  <section id="registerSection" class="hidden">
    <h2>Регистрация</h2>
    <input id="regEmail" type="email" placeholder="Email" />
    <input id="regPassword" type="password" placeholder="Пароль" />
    <button class="action-btn" onclick="registerUser()">Зарегистрироваться</button>
    <br />
    <button class="back-btn" onclick="showSection('languageSection')">Вернуться назад</button>
  </section>

  <!-- Личный кабинет -->
  <section id="profileSection" class="hidden">
    <h2>Личный кабинет</h2>
    <div class="profile-info">Email: <span id="profileEmail"></span></div>
    <div class="profile-info">Баланс: <span id="profileBalance"></span></div>
    <button class="back-btn" onclick="logout()">Выйти</button>
  </section>

</main>

<script>
  // Языковые данные
  const texts = {
    ru: {
      welcome: "Добро пожаловать в MyShop!",
      balance: "Баланс",
      logout: "Выйти",
      registrationSuccess: "Регистрация успешна!",
      fillFields: "Пожалуйста, заполните все поля.",
    },
    ua: {
      welcome: "Ласкаво просимо в MyShop!",
      balance: "Баланс",
      logout: "Вийти",
      registrationSuccess: "Реєстрація успішна!",
      fillFields: "Будь ласка, заповніть всі поля.",
    },
    en: {
      welcome: "Welcome to MyShop!",
      balance: "Balance",
      logout: "Logout",
      registrationSuccess: "Registration successful!",
      fillFields: "Please fill all fields.",
    }
  };

  // Текущий язык
  let currentLang = localStorage.getItem('lang') || 'ru';

  // При загрузке
  window.onload = () => {
    applyLanguage();
    checkLoggedIn();
  };

  // Функция переключения секций
  function showSection(id) {
    const sections = ['homeSection', 'languageSection', 'registerSection', 'profileSection'];
    sections.forEach(s => {
      document.getElementById(s).classList.add('hidden');
    });
    document.getElementById(id).classList.remove('hidden');
  }

  // Установка языка
  function setLanguage(lang) {
    currentLang = lang;
    localStorage.setItem('lang', lang);
    applyLanguage();
    showSection('homeSection');
  }

  // Применение языка к странице
  function applyLanguage() {
    const t = texts[currentLang];
    document.getElementById('welcomeText').textContent = t.welcome;

    // Можно дополнительно менять кнопки и другие тексты при необходимости
  }

  // Регистрация пользователя
  function registerUser() {
    const email = document.getElementById('regEmail').value.trim();
    const password = document.getElementById('regPassword').value.trim();

    const t = texts[currentLang];

    if (!email || !password) {
      alert(t.fillFields);
      return;
    }

    const user = { email, password, balance: 0 };
    localStorage.setItem('user', JSON.stringify(user));

    alert(t.registrationSuccess);

    // Показать профиль
    showProfile();
  }

  // Показать профиль пользователя
  function showProfile() {
    const user = JSON.parse(localStorage.getItem('user'));
    if (!user) {
      showSection('homeSection');
      return;
    }

    const t = texts[currentLang];

    document.getElementById('profileEmail').textContent = user.email;
    document.getElementById('profileBalance').textContent = user.balance + " " + (currentLang === 'ua' ? 'грн' : currentLang === 'en' ? 'USD' : '₽');

    showSection('profileSection');
  }

  // Проверка залогинен ли пользователь
  function checkLoggedIn() {
    if (localStorage.getItem('user')) {
      showProfile();
    } else {
      showSection('homeSection');
    }
  }

  // Выход из личного кабинета
  function logout() {
    localStorage.removeItem('user');
    showSection('homeSection');
  }

  // Навигация по кнопкам сверху
  document.getElementById('homeBtn').onclick = () => {
    checkLoggedIn();
  };
  document.getElementById('languageBtn').onclick = () => {
    showSection('languageSection');
  };
  document.getElementById('registerBtn').onclick = () => {
    showSection('registerSection');
  };

</script>

</body>
</html>
